---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "devgraph_discovery_provider Resource - devgraph"
subcategory: ""
description: |-
  Manages a discovery provider in Devgraph. Discovery providers continuously discover entities and relations from external systems (GitHub, GitLab, Argo, etc.).
---

# devgraph_discovery_provider (Resource)

Manages a discovery provider in Devgraph. Discovery providers continuously discover entities and relations from external systems (GitHub, GitLab, Argo, etc.).

## Example Usage

```terraform
resource "devgraph_discovery_provider" "github_example" {
  name          = "GitHub Production"
  provider_type = "github"
  enabled       = true
  interval      = 300 # 5 minutes (minimum 60 seconds)

  config = jsonencode({
    token = var.github_token
    selectors = [
      {
        organization = "myorg"
        repo_name    = ".*"
      }
    ]
  })
}

resource "devgraph_discovery_provider" "argo_example" {
  name          = "Argo CD Staging"
  provider_type = "argo"
  enabled       = true
  interval      = 300

  config = jsonencode({
    api_url = "https://argocd.example.com/api/v1/"
    token   = var.argo_token
  })
}

resource "devgraph_discovery_provider" "docker_example" {
  name          = "GHCR Docker Registry"
  provider_type = "docker"
  enabled       = true
  interval      = 600 # 10 minutes

  config = jsonencode({
    registry_type = "ghcr"
    api_url       = "https://ghcr.io/"
    username      = "myusername"
    token         = var.docker_token
    selectors = [
      {
        namespace_pattern  = "myorg"
        repository_pattern = "^(app1|app2)$"
        max_tags           = 10
        exclude_tags       = [".*-dev.*", "latest"]
      }
    ]
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (String, Sensitive) Provider configuration as JSON string. The configuration schema depends on the provider_type. Sensitive values (tokens, API keys) will be encrypted.
- `name` (String) Human-readable name for this provider instance (e.g., 'GitHub Production').
- `provider_type` (String) Type of provider (github, gitlab, argo, vercel, docker, file, fossa, meta).

### Optional

- `enabled` (Boolean) Whether this provider is active and should run discovery.
- `interval` (Number) How often to run discovery, in seconds (minimum 60).

### Read-Only

- `id` (String) The unique identifier of the discovery provider.
